\documentclass[a4paper,onecolumn,12pt]{article}
%\documentclass[prodmode,acmtocs]{acmsmall}

\usepackage{graphicx}
\usepackage{amsmath, amsfonts, amssymb}
\usepackage{bm}
\usepackage[xetex]{hyperref}
%\usepackage[all]{hypcap}

%\usepackage{glossaries}
%\makeglossaries

% Not ACM compliant, but much better looking
% \usepackage[notext]{stix} 
% \def\UrlFont{\ttfamily}
% \renewcommand{\ttdefault}{txtt}

\usepackage{booktabs,colortbl,tabu}
\usepackage{xspace}

%%%%%%%%%%%%%%%%%%%%
\usepackage{xcolor}
\definecolor{few-gray-bright}{HTML}{010202}
\definecolor{few-red-bright}{HTML}{EE2E2F}
\definecolor{few-green-bright}{HTML}{008C48}
\definecolor{few-blue-bright}{HTML}{185AA9}
\definecolor{few-orange-bright}{HTML}{F47D23}
\definecolor{few-purple-bright}{HTML}{662C91}
\definecolor{few-brown-bright}{HTML}{A21D21}
\definecolor{few-pink-bright}{HTML}{B43894}

\definecolor{few-gray}{HTML}{737373}
\definecolor{few-red}{HTML}{F15A60}
\definecolor{few-green}{HTML}{7AC36A}
\definecolor{few-blue}{HTML}{5A9BD4}
\definecolor{few-orange}{HTML}{FAA75B}
\definecolor{few-purple}{HTML}{9E67AB}
\definecolor{few-brown}{HTML}{CE7058}
\definecolor{few-pink}{HTML}{D77FB4}

\definecolor{few-gray-light}{HTML}{CCCCCC}
\definecolor{few-red-light}{HTML}{F2AFAD}
\definecolor{few-green-light}{HTML}{D9E4AA}
\definecolor{few-blue-light}{HTML}{B8D2EC}
\definecolor{few-orange-light}{HTML}{F3D1B0}
\definecolor{few-purple-light}{HTML}{D5B2D4}
\definecolor{few-brown-light}{HTML}{DDB9A9}
\definecolor{few-pink-light}{HTML}{EBC0DA}

\newcommand{\maincolor}{orange}
\taburulecolor{few-\maincolor-bright}
%%%%%%%%%%%%%%%%%%%%

\usepackage{fontspec}
\usepackage[slantfont, boldfont]{xeCJK} % 允许斜体和粗体
% CJK字体
\setCJKmonofont[Path=fonts/]{SimHei.ttf} % 等宽
\setCJKsansfont[Path=fonts/,BoldFont={SimHei.ttf},ItalicFont={SimKai.ttf}]{SimSun.ttf} % 无衬线
\setCJKmainfont[Path=fonts/,BoldFont={SimHei.ttf},ItalicFont={SimKai.ttf}]{SimSun.ttf} % 衬线
% 英文字体
\setmainfont[Mapping=tex-text,Path=fonts/]{LiberationSerif-Regular.ttf} % 衬线
\setsansfont[Mapping=tex-text,Path=fonts/]{LiberationSans-Regular.ttf} % 无衬线
\setmonofont[Mapping=tex-text,Path=fonts/]{LiberationMono-Regular.ttf} % 等宽
\punctstyle{kaiming} % 开明式标点格式
\usepackage{indentfirst} % 首段缩进
\setlength{\parindent}{2em}

\hypersetup{colorlinks, linkcolor=black,
  filecolor=black, urlcolor=black, citecolor=blue, pdftitle={恒星共识协议：互联网级共识的联邦模型}, pdfauthor={David Mazi{\`e}res}, pdfsubject={联邦拜占庭协议}, pdfkeywords={FBA, SCP}, pdfproducer={xelatex} }

\newtheorem{theorem}{定理}
%\newtheorem*{theorem*}{定理}
\newtheorem{lemma}{引理}[section]
%\newtheorem*{lemma*}{引理}[section]
\newtheorem{definition}{定义}[section]
%\newtheorem*{definition*}{定义}[section]
\newtheorem{proof}{证明}

\newcommand{\todo}[1]{{\footnotesize \textcolor{red}{$\ll$\textsf{TODO #1}$\gg$}}}%
\newcommand{\mybm}[1]{{\bm #1}}%
\newcommand{\quorum}{群体}
\newcommand{\slot}{存储单元}
\newcommand{\vblock}{$v-\!\!$阻塞}

\renewcommand{\figurename}{图}
\renewcommand\refname{参考文献}
\renewcommand{\abstractname}{摘\hspace{2em}要}

\newcommand{\FBA}{SCP\@\xspace}

\title{恒星共识协议：互联网级共识的联邦模型}
\author{David Mazi{\`e}res\\恒星发展基金会}
\date{}

\begin{document}
\maketitle

\input{tex/0-abstract}
\input{tex/1-intro}
\input{tex/2-related}
\input{tex/3-fba}
\input{tex/4-resilience}
\input{tex/5-voting}
\input{tex/6-scp}
\input{tex/7-limitations}
\input{tex/8-summary}
\input{tex/app1-ack}
\input{tex/app2-disclaimer}
%\input{tex/appA-glossary}
%\printglossaries

\bibliographystyle{abbrv}
\bibliography{ref}


\end{document}
