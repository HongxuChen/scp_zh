\section{介绍}

目前的金融基础设施由一堆混乱的封闭系统组成。这些系统之间的差异不仅造成了交易费用偏高，同时也导致了跨政治和地理边界的资产转移缓慢。这种摩擦制约了金融服务的发展，使得数十亿人所受金融服务不足。

为了解决这些问题，我们需要建立一种金融技术设施，让它支持我们从互联网那里看到的有机发展和创新的特色，同时仍然保持金融交易的完整性(integrity)。历史上，我们依赖于高进入门槛以保证完整性。我们相信已经建立起来的金融机构并尽力去规范化他们的行为。然而这种排他性和有机增长的目标矛盾。增长需要新的创新型参与者，而他们可能只拥有不多的财力和计算资源。

我们需要一个向任何人开放的世界性金融网络，这样新的参与者可以加入并扩展未享有服务社群的金融渠道。构建这种网络的挑战在于确保参与者准确记录交易。由于进入门槛较低，用户毋需相信服务提供商来监管他们自己。由于范围遍及全世界，提供商也毋需相信某个单一实体来运营网络。一种令人瞩目的方案是建立去中心化的系统：参与者通过对另一参与者的交易有效性达成共识来确保完整性。这种协定取决于世界范围的共识机制。

本文提出了联邦拜占庭协议FBA——一个适用于世界范围的共识的模型。在FBA中，每个参与者知道它认为重要的其它成员。任何交易在参与者认为已结算之前将等待其它参与者中的绝大多数认可该交易。反之，那些重要的参与者将不认可这笔交易，直到有他们认为重要的其它参与者也认可，以此类推。最终，网络中有足够的节点接受某笔交易，这使得它不能被撤销。直到那时任何参与者认为本次交易结算完成。FBA的共识可以确保金融网络的完整性。它的去中心化控制可以激励有机增长。

本文进一步提出了恒星共识协议(SCP), 一种FBA的构造方法。我们证明SCP的安全性对于一个异步的协议是最优的，这是因为它确保了在承认这样该保障的任何节点错误情景下的一致性。我们还说明了，除非参与节点出现错误使得信任依赖无法满足, 否则SCP不会引发阻塞状态——在这些状态中不可能存在共识。SCP是第一个同时满足下述四个关键属性且被证明安全的共识机制：

\begin{itemize}
	\item \textbf{去中心化控制。} 任何人都可以参与，并且不需要中心化权威机构认定``对共识来说谁的认可是必须的''。
	\item \textbf{低延迟。} 实际情形中，节点可以在人们对互联网或者支付交易所期待的时间范围内(即最多几秒)达成共识。
	\item \textbf{灵活的信任。} 用户有信任他们认为合适的任意团体组合的自由。例如，一个小的非营利组织可能在维持大型机构诚实性方面起关键作用。
	\item \textbf{渐进安全性。} 安全性取决于数字签名和哈希函数族，其参数被切实调节到对抗具有难以想像超强计算能力的对手。
\end{itemize}

在金融市场之外，SCP也有确保组织诚实履行关键职能的应用。一个好例子是数字证书认证机构(CA)，可认为他们持有互联网网络的钥匙。经验表明CA在少数场合签署了不正确的认证~\cite{ac_ms2013,dc_google2015} 。一些研究~\cite{Kim:2013up,ct_google2013,Basin:2014bn,cryptoeprint:2014:1004} 建议通过认证透明性(Certificate Transparency)解决这个问题。SCP可以增强认证透明性：不仅任何个体只要愿意就可以简单地审计CA行为，同时审计者还能够认可所有已颁发的认证全体，这使得退回或者重写之前颁发的认证而不被发现变得困难。

下一节讨论以往的共识方法。第\ref{sec:fba}节定义了联邦拜占庭一致性(FBA)，同时阐述了这一系统希望达到的安全性和存活性的概念。第\ref{sec:resilience}节讨论FBA系统中的最优化错误恢复，由此为SCP建立了安全目标。第\ref{sec:voting}节构建联邦选举机制，这是SCP协议中关键的一个构建环节。第\ref{sec:scp}节阐述了SCP本身，并证明在满足信任依赖的情况下它的安全性以及不会导致阻塞状态。第\ref{sec:limit}节讨论SCP的局限性。最后，第\ref{sec:summary}节概述结论。对于不熟悉数学符号的读者，附录\ref{sec:glossary}定义了文中使用的一些符号。