\section{联邦拜占庭一致性系统}

本节介绍联邦拜占庭一致性（FBA）模型。和非联邦一致性一样，FBA需要解决更新重复状态的问题，例如事务分类帐或认证树。通过认可采用什么样的更新，节点避免了冲突的、不可协调的状态。我们通过一个唯一的槽（slot）来识别更新，这使得我们可以推断出更新依赖。例如，在一个顺序记录的日志中槽可以是连续标号的位置。

FBA系统运行一个可以确保节点认可槽的内容的共识协议。节点$v$在它已经安全地更新了槽$i$所依赖的所有槽之后可以在槽$i$处安全地更新$x$；另外，它相信所有正确工作的节点最终将会认可槽$i$处的更新$x$。外部系统会以不可逆的方式对具体的值做出反应，因此一个节点不能够在之后改变这些值。

FBA系统的一个挑战是恶意的团体可能参与多次并在数量上超过诚实节点。因此，传统的基于大多数数量的quorum机制无法适用。FBA采用一种分布式的方式来决定quorum，这是通过每个节点选择``quorum切片''来实现的。接下来的子章节讨论了一些例子。最后，我们定义了一个共识协议应当希望达成安全性和完整性的关键属性。

\input{tex/3-fba-s1}
\input{tex/3-fba-s2}
\input{tex/3-fba-s3}